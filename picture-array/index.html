<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ImageAssign</title>
    <link rel="stylesheet" href="/picture-array/css/main.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <div class="logo logo-circle" aria-hidden="true">🐱</div>
          <div class="brand-text">
            <h1 class="brand-title">Image Generator</h1>
            <p class="brand-subtitle">
              Assign unsplash images to email addresses
            </p>
          </div>
        </div>
      </div>
    </header>

    <main class="container main-grid">
      <!-- Current Image & Assign Form -->
      <section class="card current">
        <h2 class="section-title">Current Image</h2>

        <figure class="image-frame" aria-busy="true">
          <div id="imgSkeleton" class="skeleton" aria-hidden="true"></div>
          <img id="currentImage" alt="Random image from Picsum" />
          <figcaption
            id="imageMeta"
            class="image-meta"
            aria-live="polite"
          ></figcaption>
        </figure>

        <form id="assignForm" class="assign-form" novalidate>
          <label for="email">Email address</label>
          <div class="input-row">
            <input
              id="email"
              name="email"
              type="email"
              inputmode="email"
              placeholder="name@example.com"
              required
              aria-describedby="emailHelp emailError"
              aria-invalid="false"
            />
            <button type="submit" class="btn primary" id="assignBtn">
              Assign image
            </button>
            <button type="button" class="btn ghost" id="skipBtn">Skip</button>
          </div>

          <small id="emailHelp" class="help">
            Your email is stored locally only.
          </small>

          <p
            id="emailError"
            class="error"
            role="alert"
            aria-live="assertive"
            hidden
          >
            Please enter a valid email address.
          </p>
        </form>

        <div class="toolbar">
          <button type="button" class="btn subtle" id="clearAllBtn">
            Clear all data
          </button>
        </div>

        <div id="status" class="status" role="status" aria-live="polite"></div>
      </section>

      <!-- Gallery -->
      <section class="card gallery">
        <h2 class="section-title">Assigned Images by Email</h2>

        <div id="emptyState" class="empty">
          <p>
            No assignments yet. Assign the current image to an email to get
            started.
          </p>
        </div>

        <div id="gallery" class="groups" aria-live="polite"></div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <p>
          Photos from
          <a href="https://unsplash.com" target="_blank" rel="noopener"
            >Unsplash</a
          >
        </p>
      </div>
    </footer>

    <script src="./js/app.js" defer></script>
    <!-- ✅ Lightbox Component -->
    <div id="lightbox" class="lightbox" hidden aria-hidden="true">
      <div class="lightbox-overlay"></div>

      <button class="lightbox-close" id="lightboxClose" aria-label="Close">
        ✕
      </button>
      <button
        class="lightbox-prev"
        id="lightboxPrev"
        aria-label="Previous image"
      >
        ←
      </button>
      <button class="lightbox-next" id="lightboxNext" aria-label="Next image">
        →
      </button>

      <img id="lightboxImage" class="lightbox-image" alt="Large preview" />
    </div>
  </body>
</html>
